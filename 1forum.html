<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Red Dragon — Чат</title>
<style>
body {
  margin: 0;
  padding: 20px;
  font-family: "Segoe UI", Arial, sans-serif;
  background: linear-gradient(135deg, #000000, #2b0000);
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

h1 {
  color: #ff1a1a;
  text-shadow: 0 0 15px #ff0000, 0 0 30px #800000;
}

#chat {
  width: 90%;
  max-width: 800px;
  background-color: #1a0000;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 0 20px #ff1a1a, 0 0 40px #b30000;
}

#messages {
  max-height: 300px;
  overflow-y: auto;
  margin-bottom: 20px;
}

.message {
  background-color: #330000;
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 10px;
  box-shadow: 0 0 5px #ff1a1a;
  word-wrap: break-word;
}

.message img {
  max-width: 100%;
  border-radius: 10px;
  margin-top: 10px;
}

input, textarea {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 10px;
  border: none;
  font-size: 1em;
}

button.send {
  background-color: #ff1a1a;
  color: #fff;
  padding: 10px 20px;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
}

button.send:hover {
  background-color: #b30000;
  transform: scale(1.05);
}

/* Ссылка «Вернуться в форумы» */
#backLink {
  margin-top: 15px;
  color: #fff;
  text-decoration: underline;
  cursor: pointer;
}

#backLink:hover {
  color: #ff1a1a;
  transition: 0.3s;
}

footer {
  margin-top: 20px;
  color: #999;
  font-size: 0.85em;
}
</style>
</head>
<body>

<h1>Red Dragon — Чат</h1>

<div id="chat">
  <div id="messages"></div>
  <input type="text" id="username" placeholder="Ваш ник">
  <textarea id="message" rows="3" placeholder="Введите сообщение"></textarea>
  <input type="text" id="photoURL" placeholder="Ссылка на фото (опционально)">
  <button class="send" onclick="sendMessage()">Отправить</button>

  <!-- Ссылка на форумы снизу блока чата -->
  <div id="backLink" onclick="goBack()">← Вернуться в форумы</div>
</div>

<footer>© 2025 Red Dragon | Все права защищены</footer>

<script>
// Запрещенные слова (можно добавить свои)
const badWords = ["****", "****"]; // замените звездочки на реальные слова

function sendMessage() {
  const username = document.getElementById('username').value.trim();
  const message = document.getElementById('message').value.trim();
  const photoURL = document.getElementById('photoURL').value.trim();

  if(!username) return alert("Введите ник!");
  if(!message && !photoURL) return alert("Введите сообщение или вставьте ссылку на фото!");

  // Проверка запрещённых слов
  for(let word of badWords){
    if(username.toLowerCase().includes(word) || message.toLowerCase().includes(word)){
      alert("Запрещенные слова в нике или сообщении!");
      return;
    }
  }

  const messagesDiv = document.getElementById('messages');
  const div = document.createElement('div');
  div.classList.add('message');

  const time = new Date().toLocaleTimeString();
  div.innerHTML = `<strong>${username}</strong> [${time}]: ${message}`;
  if(photoURL) div.innerHTML += `<br><img src="${photoURL}" alt="photo">`;

  messagesDiv.appendChild(div);
  messagesDiv.scrollTop = messagesDiv.scrollHeight;

  // Очистка полей ввода
  document.getElementById('message').value = "";
  document.getElementById('photoURL').value = "";
}

// Переход на форумы
function goBack() {
  window.location.href = "index.html"; // ссылка на главную страницу форумов
}

// Автоочистка каждые 2 часа
setInterval(() => {
  document.getElementById('messages').innerHTML = "";
  console.log("Чат очищен автоматически каждые 2 часа");
}, 2 * 60 * 60 * 1000);
</script>

</body>
</html>
